{% extends 'base.html' %}
{% block content %}

<h1 class="display-3">Secure app </h1>
<p class="lead">Register </p>

{% for msg in get_flashed_messages() %}
  <div>{{ msg }}</div>
{% endfor %}

<form method="POST">
  {{ form.hidden_tag() }} <!--add type=hidden form fields -->

  {% for field in form
         if field.widget.input_type != 'hidden' %}

    <p>
      {{ field.label }}
      {{ field }}

      {% for error in field.errors %}
      <!-- Show errors  -->
        {{ error }}
      {% endfor %}
    </p>

  {% endfor %}

  <button class="btn btn-primary" type="submit">Submit</button>
</form>

{% endblock %}